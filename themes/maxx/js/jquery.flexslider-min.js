;(function(a){a.flexslider=function(b,c){var d=a(b),e=a.extend({},a.flexslider.defaults,c),f=e.namespace,g="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,h=g?"touchend":"click",i=e.direction==="vertical",j=e.reverse,k=e.itemWidth>0,l=e.animation==="fade",m=e.asNavFor!=="",n={};a.data(b,"flexslider",d);n={init:function(){d.animating=false;d.currentSlide=e.startAt;d.animatingTo=d.currentSlide;d.atEnd=d.currentSlide===0||d.currentSlide===d.last;d.containerSelector=e.selector.substr(0,e.selector.search(" "));d.slides=a(e.selector,d);d.container=a(d.containerSelector,d);d.count=d.slides.length;d.syncExists=a(e.sync).length>0;if(e.animation==="slide")e.animation="swing";d.prop=i?"top":"marginLeft";d.args={};d.manualPause=false;d.transitions=!e.video&&!l&&e.useCSS&&function(){var a=document.createElement("div"),b=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b){if(a.style[b[c]]!==undefined){d.pfx=b[c].replace("Perspective","").toLowerCase();d.prop="-"+d.pfx+"-transform";return true}}return false}();if(e.controlsContainer!=="")d.controlsContainer=a(e.controlsContainer).length>0&&a(e.controlsContainer);if(e.manualControls!=="")d.manualControls=a(e.manualControls).length>0&&a(e.manualControls);if(e.randomize){d.slides.sort(function(){return Math.round(Math.random())-.5});d.container.empty().append(d.slides)}d.doMath();if(m)n.asNav.setup();d.setup("init");if(e.controlNav)n.controlNav.setup();if(e.directionNav)n.directionNav.setup();if(e.keyboard&&(a(d.containerSelector).length===1||e.multipleKeyboard)){a(document).bind("keyup",function(a){var b=a.keyCode;if(!d.animating&&(b===39||b===37)){var c=b===39?d.getTarget("next"):b===37?d.getTarget("prev"):false;d.flexAnimate(c,e.pauseOnAction)}})}if(e.mousewheel){d.bind("mousewheel",function(a,b,c,f){a.preventDefault();var g=b<0?d.getTarget("next"):d.getTarget("prev");d.flexAnimate(g,e.pauseOnAction)})}if(e.pausePlay)n.pausePlay.setup();if(e.slideshow){if(e.pauseOnHover){d.hover(function(){d.pause()},function(){if(!d.manualPause)d.play()})}e.initDelay>0?setTimeout(d.play,e.initDelay):d.play()}if(g&&e.touch)n.touch();if(!l||l&&e.smoothHeight)a(window).bind("resize focus",n.resize);setTimeout(function(){e.start(d)},200)},asNav:{setup:function(){d.asNav=true;d.animatingTo=Math.floor(d.currentSlide/d.move);d.currentItem=d.currentSlide;d.slides.removeClass(f+"active-slide").eq(d.currentItem).addClass(f+"active-slide");d.slides.click(function(b){b.preventDefault();var c=a(this),f=c.index();if(!a(e.asNavFor).data("flexslider").animating&&!c.hasClass("active")){d.direction=d.currentItem<f?"next":"prev";d.flexAnimate(f,e.pauseOnAction,false,true,true)}})}},controlNav:{setup:function(){if(!d.manualControls){n.controlNav.setupPaging()}else{n.controlNav.setupManual()}},setupPaging:function(){var b=e.controlNav==="thumbnails"?"control-thumbs":"control-paging",c=1,i;d.controlNavScaffold=a('<ol class="'+f+"control-nav "+f+b+'"></ol>');if(d.pagingCount>1){for(var j=0;j<d.pagingCount;j++){i=e.controlNav==="thumbnails"?'<img src="'+d.slides.eq(j).attr("data-thumb")+'"/>':"<a>"+c+"</a>";d.controlNavScaffold.append("<li>"+i+"</li>");c++}}d.controlsContainer?a(d.controlsContainer).append(d.controlNavScaffold):d.append(d.controlNavScaffold);n.controlNav.set();n.controlNav.active();d.controlNavScaffold.delegate("a, img",h,function(b){b.preventDefault();var c=a(this),g=d.controlNav.index(c);if(!c.hasClass(f+"active")){d.direction=g>d.currentSlide?"next":"prev";d.flexAnimate(g,e.pauseOnAction)}});if(g){d.controlNavScaffold.delegate("a","click touchstart",function(a){a.preventDefault()})}},setupManual:function(){d.controlNav=d.manualControls;n.controlNav.active();d.controlNav.live(h,function(b){b.preventDefault();var c=a(this),g=d.controlNav.index(c);if(!c.hasClass(f+"active")){g>d.currentSlide?d.direction="next":d.direction="prev";d.flexAnimate(g,e.pauseOnAction)}});if(g){d.controlNav.live("click touchstart",function(a){a.preventDefault()})}},set:function(){var b=e.controlNav==="thumbnails"?"img":"a";d.controlNav=a("."+f+"control-nav li "+b,d.controlsContainer?d.controlsContainer:d)},active:function(){d.controlNav.removeClass(f+"active").eq(d.animatingTo).addClass(f+"active")},update:function(b,c){if(d.pagingCount>1&&b==="add"){d.controlNavScaffold.append(a("<li><a>"+d.count+"</a></li>"))}else if(d.pagingCount===1){d.controlNavScaffold.find("li").remove()}else{d.controlNav.eq(c).closest("li").remove()}n.controlNav.set();d.pagingCount>1&&d.pagingCount!==d.controlNav.length?d.update(c,b):n.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+f+'direction-nav"><li><a class="'+f+'prev" href="#">'+e.prevText+'</a></li><li><a class="'+f+'next" href="#">'+e.nextText+"</a></li></ul>");if(d.controlsContainer){a(d.controlsContainer).append(b);d.directionNav=a("."+f+"direction-nav li a",d.controlsContainer)}else{d.append(b);d.directionNav=a("."+f+"direction-nav li a",d)}n.directionNav.update();d.directionNav.bind(h,function(b){b.preventDefault();var c=a(this).hasClass(f+"next")?d.getTarget("next"):d.getTarget("prev");d.flexAnimate(c,e.pauseOnAction)});if(g){d.directionNav.bind("click touchstart",function(a){a.preventDefault()})}},update:function(){var a=f+"disabled";if(!e.animationLoop){if(d.pagingCount===1){d.directionNav.addClass(a)}else if(d.animatingTo===0){d.directionNav.removeClass(a).filter("."+f+"prev").addClass(a)}else if(d.animatingTo===d.last){d.directionNav.removeClass(a).filter("."+f+"next").addClass(a)}else{d.directionNav.removeClass(a)}}}},pausePlay:{setup:function(){var b=a('<div class="'+f+'pauseplay"><a></a></div>');if(d.controlsContainer){d.controlsContainer.append(b);d.pausePlay=a("."+f+"pauseplay a",d.controlsContainer)}else{d.append(b);d.pausePlay=a("."+f+"pauseplay a",d)}n.pausePlay.update(e.slideshow?f+"pause":f+"play");d.pausePlay.bind(h,function(b){b.preventDefault();if(a(this).hasClass(f+"pause")){d.pause();d.manualPause=true}else{d.play();d.manualPause=false}});if(g){d.pausePlay.bind("click touchstart",function(a){a.preventDefault()})}},update:function(a){a==="play"?d.pausePlay.removeClass(f+"pause").addClass(f+"play").text(e.playText):d.pausePlay.removeClass(f+"play").addClass(f+"pause").text(e.pauseText)}},touch:function(){function o(h){if(d.animating){h.preventDefault()}else if(h.touches.length===1){d.pause();g=i?d.h:d.w;m=Number(new Date);f=k&&j&&d.animatingTo===d.last?0:k&&j?d.limit-(d.itemW+e.itemMargin)*d.move*d.animatingTo:k&&d.currentSlide===d.last?d.limit:k?(d.itemW+e.itemMargin)*d.move*d.currentSlide:j?(d.last-d.currentSlide+d.cloneOffset)*g:(d.currentSlide+d.cloneOffset)*g;a=i?h.touches[0].pageY:h.touches[0].pageX;c=i?h.touches[0].pageX:h.touches[0].pageY;b.addEventListener("touchmove",p,false);b.addEventListener("touchend",q,false)}}function p(b){h=i?a-b.touches[0].pageY:a-b.touches[0].pageX;n=i?Math.abs(h)<Math.abs(b.touches[0].pageX-c):Math.abs(h)<Math.abs(b.touches[0].pageY-c);if(!n||Number(new Date)-m>500){b.preventDefault();if(!l&&d.transitions){if(!e.animationLoop){h=h/(d.currentSlide===0&&h<0||d.currentSlide===d.last&&h>0?Math.abs(h)/g+2:1)}d.setProps(f+h,"setTouch")}}}function q(i){if(d.animatingTo===d.currentSlide&&!n&&!(h===null)){var k=j?-h:h,l=k>0?d.getTarget("next"):d.getTarget("prev");if(d.canAdvance(l)&&(Number(new Date)-m<550&&Math.abs(k)>20||Math.abs(k)>g/2)){d.flexAnimate(l,e.pauseOnAction)}else{d.flexAnimate(d.currentSlide,e.pauseOnAction,true)}}b.removeEventListener("touchmove",p,false);b.removeEventListener("touchend",q,false);a=null;c=null;h=null;f=null}var a,c,f,g,h,m,n=false;b.addEventListener("touchstart",o,false)},resize:function(){if(!d.animating&&d.is(":visible")){if(!k)d.doMath();if(l){n.smoothHeight()}else if(k){d.slides.width(d.computedW);d.update(d.pagingCount);d.setProps()}else if(i){d.viewport.height(d.h);d.setProps(d.h,"setTotal")}else{if(e.smoothHeight)n.smoothHeight();d.newSlides.width(d.computedW);d.setProps(d.computedW,"setTotal")}}},smoothHeight:function(a){if(!i||l){var b=l?d:d.viewport;a?b.animate({height:d.slides.eq(d.animatingTo).height()},a):b.height(d.slides.eq(d.animatingTo).height())}},sync:function(b){var c=a(e.sync).data("flexslider"),f=d.animatingTo;switch(b){case"animate":c.flexAnimate(f,e.pauseOnAction,false,true);break;case"play":if(!c.playing&&!c.asNav){c.play()}break;case"pause":c.pause();break}}};d.flexAnimate=function(b,c,g,h,o){if(!d.animating&&(d.canAdvance(b)||g)&&d.is(":visible")){if(m&&h){var p=a(e.asNavFor).data("flexslider");d.atEnd=b===0||b===d.count-1;p.flexAnimate(b,true,false,true,o);d.direction=d.currentItem<b?"next":"prev";p.direction=d.direction;if(Math.ceil((b+1)/d.visible)-1!==d.currentSlide&&b!==0){d.currentItem=b;d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");b=Math.floor(b/d.visible)}else{d.currentItem=b;d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");return false}}d.animating=true;d.animatingTo=b;e.before(d);if(c)d.pause();if(d.syncExists&&!o)n.sync("animate");if(e.controlNav)n.controlNav.active();if(!k)d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");d.atEnd=b===0||b===d.last;if(e.directionNav)n.directionNav.update();if(b===d.last){e.end(d);if(!e.animationLoop)d.pause()}if(!l){var q=i?d.slides.filter(":first").height():d.computedW,r,s,t;if(k){r=e.itemWidth>d.w?e.itemMargin*2:e.itemMargin;t=(d.itemW+r)*d.move*d.animatingTo;s=t>d.limit&&d.visible!==1?d.limit:t}else if(d.currentSlide===0&&b===d.count-1&&e.animationLoop&&d.direction!=="next"){s=j?(d.count+d.cloneOffset)*q:0}else if(d.currentSlide===d.last&&b===0&&e.animationLoop&&d.direction!=="prev"){s=j?0:(d.count+1)*q}else{s=j?(d.count-1-b+d.cloneOffset)*q:(b+d.cloneOffset)*q}d.setProps(s,"",e.animationSpeed);if(d.transitions){if(!e.animationLoop||!d.atEnd){d.animating=false;d.currentSlide=d.animatingTo}d.container.unbind("webkitTransitionEnd transitionend");d.container.bind("webkitTransitionEnd transitionend",function(){d.wrapup(q)})}else{d.container.animate(d.args,e.animationSpeed,e.easing,function(){d.wrapup(q)})}}else{d.slides.eq(d.currentSlide).fadeOut(e.animationSpeed,e.easing);d.slides.eq(b).fadeIn(e.animationSpeed,e.easing,d.wrapup)}if(e.smoothHeight)n.smoothHeight(e.animationSpeed)}};d.wrapup=function(a){if(!l&&!k){if(d.currentSlide===0&&d.animatingTo===d.last&&e.animationLoop){d.setProps(a,"jumpEnd")}else if(d.currentSlide===d.last&&d.animatingTo===0&&e.animationLoop){d.setProps(a,"jumpStart")}}d.animating=false;d.currentSlide=d.animatingTo;e.after(d)};d.animateSlides=function(){if(!d.animating)d.flexAnimate(d.getTarget("next"))};d.pause=function(){clearInterval(d.animatedSlides);d.playing=false;if(e.pausePlay)n.pausePlay.update("play");if(d.syncExists)n.sync("pause")};d.play=function(){d.animatedSlides=setInterval(d.animateSlides,e.slideshowSpeed);d.playing=true;if(e.pausePlay)n.pausePlay.update("pause");if(d.syncExists)n.sync("play")};d.canAdvance=function(a){var b=m?d.pagingCount-1:d.last;return m&&d.currentItem===0&&a===d.pagingCount-1&&d.direction!=="next"?false:a===d.currentSlide&&!m?false:e.animationLoop?true:d.atEnd&&d.currentSlide===0&&a===b&&d.direction!=="next"?false:d.atEnd&&d.currentSlide===b&&a===0&&d.direction==="next"?false:true};d.getTarget=function(a){d.direction=a;if(a==="next"){return d.currentSlide===d.last?0:d.currentSlide+1}else{return d.currentSlide===0?d.last:d.currentSlide-1}};d.setProps=function(a,b,c){var f=function(){var c=a?a:(d.itemW+e.itemMargin)*d.move*d.animatingTo,f=function(){if(k){return b==="setTouch"?a:j&&d.animatingTo===d.last?0:j?d.limit-(d.itemW+e.itemMargin)*d.move*d.animatingTo:d.animatingTo===d.last?d.limit:c}else{switch(b){case"setTotal":return j?(d.count-1-d.currentSlide+d.cloneOffset)*a:(d.currentSlide+d.cloneOffset)*a;case"setTouch":return j?a:a;case"jumpEnd":return j?a:d.count*a;case"jumpStart":return j?d.count*a:a;default:return a}}}();return f*-1+"px"}();if(d.transitions){f=i?"translate3d(0,"+f+",0)":"translate3d("+f+",0,0)";c=c!==undefined?c/1e3+"s":"0s";d.container.css("-"+d.pfx+"-transition-duration",c)}d.args[d.prop]=f;if(d.transitions||c===undefined)d.container.css(d.args)};d.setup=function(b){if(!l){var c,g;if(b==="init"){d.viewport=a('<div class="flex-viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(d).append(d.container);d.cloneCount=0;d.cloneOffset=0;if(j){g=a.makeArray(d.slides).reverse();d.slides=a(g);d.container.empty().append(d.slides)}}if(e.animationLoop&&!k){d.cloneCount=2;d.cloneOffset=1;if(b!=="init")d.container.find(".clone").remove();d.container.append(d.slides.first().clone().addClass("clone")).prepend(d.slides.last().clone().addClass("clone"))}d.newSlides=a(e.selector,d);c=j?d.count-1-d.currentSlide+d.cloneOffset:d.currentSlide+d.cloneOffset;if(i&&!k){d.container.height((d.count+d.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){d.newSlides.css({display:"block"});d.doMath();d.viewport.height(d.h);d.setProps(c*d.h,"init")},b==="init"?100:0)}else{d.container.width((d.count+d.cloneCount)*200+"%");d.setProps(c*d.computedW,"init");setTimeout(function(){d.doMath();d.newSlides.css({width:d.computedW,"float":"left",display:"block"});if(e.smoothHeight)n.smoothHeight()},b==="init"?100:0)}}else{d.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(b==="init")d.slides.eq(d.currentSlide).fadeIn(e.animationSpeed,e.easing);if(e.smoothHeight)n.smoothHeight()}if(!k)d.slides.removeClass(f+"active-slide").eq(d.currentSlide).addClass(f+"active-slide")};d.doMath=function(){var a=d.slides.first(),b=e.itemMargin,c=e.minItems,f=e.maxItems;d.w=d.width();d.h=a.height();d.boxPadding=a.outerWidth()-a.width();if(k){d.itemT=e.itemWidth+b;d.minW=c?c*d.itemT:d.w;d.maxW=f?f*d.itemT:d.w;d.itemW=d.minW>d.w?(d.w-b*c)/c:d.maxW<d.w?(d.w-b*f)/f:e.itemWidth>d.w?d.w:e.itemWidth;d.visible=Math.floor(d.w/(d.itemW+b));d.move=e.move>0&&e.move<d.visible?e.move:d.visible;d.pagingCount=Math.ceil((d.count-d.visible)/d.move+1);d.last=d.pagingCount-1;d.limit=d.pagingCount===1?0:e.itemWidth>d.w?(d.itemW+b*2)*d.count-d.w-b:(d.itemW+b)*d.count-d.w}else{d.itemW=d.w;d.pagingCount=d.count;d.last=d.count-1}d.computedW=d.itemW-d.boxPadding};d.update=function(a,b){d.doMath();if(!k){if(a<d.currentSlide){d.currentSlide+=1}else if(a<=d.currentSlide&&a!==0){d.currentSlide-=1}d.animatingTo=d.currentSlide}if(e.controlNav&&!d.manualControls){if(b==="add"&&!k||d.pagingCount>d.controlNav.length){n.controlNav.update("add")}else if(b==="remove"&&!k||d.pagingCount<d.controlNav.length){if(k&&d.currentSlide>d.last){d.currentSlide-=1;d.animatingTo-=1}n.controlNav.update("remove",d.last)}}if(e.directionNav)n.directionNav.update()};d.addSlide=function(b,c){var f=a(b);d.count+=1;d.last=d.count-1;if(i&&j){c!==undefined?d.slides.eq(d.count-c).after(f):d.container.prepend(f)}else{c!==undefined?d.slides.eq(c).before(f):d.container.append(f)}d.update(c,"add");d.slides=a(e.selector+":not(.clone)",d);d.setup();e.added(d)};d.removeSlide=function(b){var c=isNaN(b)?d.slides.index(a(b)):b;d.count-=1;d.last=d.count-1;if(isNaN(b)){a(b,d.slides).remove()}else{i&&j?d.slides.eq(d.last).remove():d.slides.eq(b).remove()}d.doMath();d.update(c,"remove");d.slides=a(e.selector+":not(.clone)",d);d.setup();e.removed(d)};n.init()};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:false,pauseOnAction:true,pauseOnHover:false,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(b){b=b||{};if(typeof b==="object"){return this.each(function(){var c=a(this),d=b.selector?b.selector:".slides > li",e=c.find(d);if(e.length===1){e.fadeIn(400);if(b.start)b.start(c)}else if(c.data("flexslider")===undefined){new a.flexslider(this,b)}})}else{var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"next":c.flexAnimate(c.getTarget("next"),true);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),true);break;default:if(typeof b==="number")c.flexAnimate(b,true)}}}})(jQuery)